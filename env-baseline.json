{
  "$schema": "./docs/schemas/env-baseline.schema.json",
  "version": "1.0",
  "description": "Environment baseline for wdi plugin. Defines required plugins, tools, and admin contact for environment consistency validation.",

  "required_plugins": [
    {
      "name": "compound-engineering",
      "source": "every-marketplace",
      "min_version": null,
      "description": "Research and review agents for compound engineering workflows"
    }
  ],

  "required_cli_tools": [
    {
      "name": "gh",
      "check_command": "gh --version",
      "auth_check": "gh auth status",
      "install_hints": {
        "darwin": "brew install gh",
        "linux": "sudo apt install gh || sudo dnf install gh",
        "manual": "https://cli.github.com/manual/installation"
      },
      "auth_hint": "gh auth login",
      "required_for": ["issue creation", "PR workflows"],
      "can_auto_install": true,
      "requires_auth": true
    },
    {
      "name": "jq",
      "check_command": "jq --version",
      "install_hints": {
        "darwin": "brew install jq",
        "linux": "sudo apt install jq || sudo dnf install jq",
        "manual": "https://stedolan.github.io/jq/download/"
      },
      "required_for": ["JSON parsing in hooks"],
      "can_auto_install": true,
      "requires_auth": false
    },
    {
      "name": "bats",
      "check_command": "bats --version",
      "install_hints": {
        "darwin": "brew install bats-core",
        "linux": "sudo apt install bats || npm install -g bats",
        "manual": "https://bats-core.readthedocs.io/en/stable/installation.html"
      },
      "required_for": ["running unit tests", "plugin development"],
      "can_auto_install": true,
      "requires_auth": false
    }
  ],

  "admin_contact": {
    "name": "David Roberts",
    "email": "david@whitedoeinn.com",
    "escalation_note": "Include the full error output when contacting for help."
  },

  "validation_settings": {
    "block_on_failure": true,
    "auto_remediate": true,
    "show_admin_contact_on_block": true
  }
}
